// ============================================================================
// Example: Law of Excluded Middle (LEM)
// ============================================================================
// Demonstrates:
//   - Law of excluded middle: p or not p
//   - Classical reasoning with LEM
//   - Case analysis on p or not p
//   - Relationship to double negation elimination
//
// Features:
//   - p or not p [LEM axiom]
//   - Case analysis on disjunctions
//   - Classical vs constructive logic
//   - Proof by cases using LEM
//
// See: docs/PROOF_SYNTAX.md - Proof tree rules
//      docs/USER_GUIDE.md - Section "Proof Trees"
// ============================================================================

=== Law of Excluded Middle Examples ===

** Example 1: Statement of LEM **

TEXT: The law of excluded middle states: for any proposition p, either p is true or not p is true.

p or not p

TEXT: This is an axiom of classical logic but not of constructive logic.

** Example 2: Proof by Cases Using LEM **

TEXT: Prove: (p => q) => ((not p => q) => q)

PROOF:
  p => q [premise]
  not p => q [premise]
  p or not p [LEM]
  CASE p:
    q [=> elim with p => q]
  CASE not p:
    q [=> elim with not p => q]
  q [or elim]

TEXT: By LEM, we can case-analyze on p or not p. In both cases we derive q.

** Example 3: Double Negation Elimination Using LEM **

TEXT: Prove: not not p => p

PROOF:
  not not p [premise]
  p or not p [LEM]
  CASE p:
    p [identity]
  CASE not p:
    false [contradiction with not not p]
    p [false elim]
  p [or elim]

TEXT: LEM enables double negation elimination in classical logic.

** Example 4: De Morgan's Law Using LEM **

TEXT: Prove: not (p and q) => (not p or not q)

PROOF:
  not (p and q) [premise]
  p or not p [LEM]
  CASE p:
    q or not q [LEM]
    CASE q:
      p and q [and intro]
      false [contradiction with premise]
      not p or not q [false elim]
    CASE not q:
      not q [identity]
      not p or not q [or intro right]
    not p or not q [or elim]
  CASE not p:
    not p [identity]
    not p or not q [or intro left]
  not p or not q [or elim]

TEXT: This proof requires LEM to case-analyze on both p and q.

** Example 5: Decidability **

TEXT: A proposition is decidable if we can prove p or not p:

decidable(p) == p or not p

TEXT: LEM states that all propositions are decidable in classical logic.

** Example 6: Proof by Contradiction via LEM **

TEXT: Prove: (not p => false) => p

PROOF:
  not p => false [premise]
  p or not p [LEM]
  CASE p:
    p [identity]
  CASE not p:
    false [=> elim]
    p [false elim]
  p [or elim]

TEXT: This shows that proof by contradiction follows from LEM.

** Example 7: Material Implication **

TEXT: Prove: (p => q) <=> (not p or q)

TEXT: Left-to-right (p => q => not p or q):

PROOF:
  p => q [premise]
  p or not p [LEM]
  CASE p:
    q [=> elim]
    not p or q [or intro right]
  CASE not p:
    not p or q [or intro left]
  not p or q [or elim]

TEXT: Right-to-left (not p or q => p => q):

PROOF:
  not p or q [premise]
  p [assumption 1]
  CASE not p:
    false [contradiction]
    q [false elim]
  CASE q:
    q [identity]
  q [or elim]
  p => q [=> intro from 1]

TEXT: Material implication equivalence uses LEM in the forward direction.

** Example 8: Pierce's Law **

TEXT: Prove: ((p => q) => p) => p

PROOF:
  (p => q) => p [premise]
  p or not p [LEM]
  CASE p:
    p [identity]
  CASE not p:
    p [assumption 1]
    false [contradiction]
    q [false elim]
    p => q [=> intro from 1]
    p [=> elim with premise]
  p [or elim]

TEXT: Pierce's law is equivalent to LEM in classical logic.

** Example 9: Tertium Non Datur **

TEXT: Tertium non datur (Latin: "no third possibility") is another name for LEM.

TEXT: For any proposition p, there is no third option besides p and not p.

forall p | p or not p

TEXT: This principle distinguishes classical from intuitionistic logic.

** Example 10: Constructive vs Classical **

TEXT: In constructive (intuitionistic) logic, LEM is not provable as a general principle.

TEXT: Constructive: To prove p or not p, you must either:
TEXT: - Construct a proof of p, or
TEXT: - Construct a proof of not p (a proof that p leads to contradiction)

TEXT: Classical: LEM is an axiom—every proposition is assumed decidable without construction.

** Example 11: Example Where LEM Is Not Needed **

TEXT: Some propositions are constructively decidable:

forall n : N | (n = 0) or not (n = 0)

TEXT: We can decide this by checking if n equals 0.

TEXT: But general propositions may not be decidable constructively:

forall p | p or not p  -- requires LEM in general case

** Example 12: Proof Strategy with LEM **

TEXT: Common proof strategy using LEM:

TEXT: To prove Q:
TEXT: 1. Invoke p or not p for some relevant p
TEXT: 2. CASE p: prove Q assuming p
TEXT: 3. CASE not p: prove Q assuming not p
TEXT: 4. Conclude Q by or elim

TEXT: This technique is called "proof by cases" or "case analysis."

** Example 13: LEM and Indirect Proof **

TEXT: Indirect proof pattern using LEM:

TEXT: To prove p:
TEXT: 1. Assume not p [assumption 1]
TEXT: 2. Derive false
TEXT: 3. Conclude not not p [not intro from 1]
TEXT: 4. Apply LEM: p or not p
TEXT: 5. CASE p: p
TEXT: 6. CASE not p: contradicts not not p, derive p by false elim
TEXT: 7. Conclude p [or elim]

TEXT: LEM enables the final step (double negation elimination).

** Example 14: Drinker Paradox **

TEXT: Prove: There exists a person x such that if x drinks, then everyone drinks.

PROOF:
  p or not p [LEM] where p = "everyone drinks"
  CASE p (everyone drinks):
    Pick any person a
    a drinks [from p]
    forall y | y drinks [from p]
    a drinks => (forall y | y drinks) [=> intro, trivially true]
    exists x | x drinks => (forall y | y drinks) [exists intro with x = a]
  CASE not p (not everyone drinks):
    exists person b | not (b drinks) [negation of forall]
    not (b drinks) [exists elim]
    b drinks [assumption 1]
    false [contradiction]
    forall y | y drinks [false elim]
    b drinks => (forall y | y drinks) [=> intro from 1]
    exists x | x drinks => (forall y | y drinks) [exists intro with x = b]
  exists x | x drinks => (forall y | y drinks) [or elim]

TEXT: This classical proof uses LEM crucially.

** Example 15: When to Use LEM **

TEXT: Use LEM when:
TEXT: 1. You need to prove something by case analysis on an arbitrary proposition
TEXT: 2. You're working in classical logic (not constructive)
TEXT: 3. You need double negation elimination
TEXT: 4. Your proof strategy requires considering both p and not p

TEXT: Avoid LEM when:
TEXT: 1. Working in constructive/intuitionistic logic
TEXT: 2. The proposition has a decidable, constructive proof
TEXT: 3. You want algorithms that compute witnesses (constructive proofs)

** Example 16: Relationship to Other Principles **

TEXT: In classical logic, these are equivalent:
TEXT: - Law of excluded middle: p or not p
TEXT: - Double negation elimination: not not p => p
TEXT: - Pierce's law: ((p => q) => p) => p
TEXT: - Reductio ad absurdum: (not p => false) => p

TEXT: Accepting any one of these principles gives you classical logic.

TEXT: In intuitionistic logic, none of these hold in general—you must construct proofs explicitly.
