// ============================================================================
// Example: Law of Excluded Middle (LEM)
// ============================================================================
// Demonstrates:
//   - Law of excluded middle: p or lnot p
//   - Classical reasoning with LEM
//   - Case analysis on p lor lnot p
//   - Relationship to double negation elimination
//
// Features:
//   - p lor lnot p [LEM axiom]
//   - Case analysis on disjunctions
//   - Classical vs constructive logic
//   - Proof by cases using LEM
//
// See: docs/PROOF_SYNTAX.md - Proof tree rules
//      docs/USER_GUIDE.md - Section "Proof Trees"
// ============================================================================

=== Law of Excluded Middle Examples ===

** Example 1: Statement of LEM **

TEXT: The law of excluded middle states: for any proposition p, either p is true or lnot p is true.

p lor lnot p

TEXT: This is an axiom of classical logic but not of constructive logic.

** Example 2: Proof by Cases Using LEM **

TEXT: Prove: (p => q) => ((lnot p => q) => q)

PROOF:
q [lor elim]
  [1] p => q [assumption]
      [2] lnot p => q [assumption]
          p lor lnot p [LEM]
          case p:
            q [=> elim with p => q]
          case lnot p:
            q [=> elim with lnot p => q]
          q [lor elim]

TEXT: By LEM, we can case-analyze on p lor lnot p. In both cases we derive q.

** Example 3: Double Negation Elimination Using LEM **

TEXT: Prove: lnot lnot p => p

PROOF:
p [lor elim]
  [1] lnot lnot p [assumption]
      p lor lnot p [LEM]
      case p:
        p [identity]
      case lnot p:
        false [contradiction with lnot lnot p]
        p [false elim]
      p [lor elim]

TEXT: LEM enables double negation elimination in classical logic.

** Example 4: De Morgan's Law Using LEM **

TEXT: Prove: lnot (p land q) => (lnot p lor lnot q)

PROOF:
lnot p lor lnot q [lor elim]
  [1] lnot (p land q) [assumption]
      p lor lnot p [LEM]
      case p:
        q lor lnot q [LEM]
        case q:
          p land q [land intro]
          false [contradiction with premise]
          lnot p lor lnot q [false elim]
        case lnot q:
          lnot q [identity]
          lnot p lor lnot q [lor intro right]
        lnot p lor lnot q [lor elim]
      case lnot p:
        lnot p [identity]
        lnot p lor lnot q [lor intro left]
      lnot p lor lnot q [lor elim]

TEXT: This proof requires LEM to case-analyze on both p and q.

** Example 5: Decidability **

TEXT: A proposition is decidable if we can prove p or not p. In logical notation, we would write: decidable(p) means (p or lnot p).

TEXT: LEM states that all propositions are decidable in classical logic.

** Example 6: Proof by Contradiction via LEM **

TEXT: Prove: (lnot p => false) => p

PROOF:
p [lor elim]
  [1] lnot p => false [assumption]
      p lor lnot p [LEM]
      case p:
        p [identity]
      case lnot p:
        false [=> elim]
        p [false elim]
      p [lor elim]

TEXT: This shows that proof by contradiction follows from LEM.

** Example 7: Material Implication **

TEXT: Prove: (p => q) <=> (lnot p lor q)

TEXT: Left-to-right (p => q => lnot p lor q):

PROOF:
lnot p lor q [lor elim]
  [1] p => q [assumption]
      p lor lnot p [LEM]
      case p:
        q [=> elim]
        lnot p lor q [lor intro right]
      case lnot p:
        lnot p lor q [lor intro left]
      lnot p lor q [lor elim]

TEXT: Right-to-left (lnot p lor q => p => q):

PROOF:
p => q [=> intro from 1]
  [1] lnot p lor q [assumption]
      [2] p [assumption]
          case lnot p:
            false [contradiction]
            q [false elim]
          case q:
            q [identity]
          q [lor elim]

TEXT: Material implication equivalence uses LEM in the forward direction.

** Example 8: Pierce's Law **

TEXT: Prove: ((p => q) => p) => p

PROOF:
p [lor elim]
  [1] (p => q) => p [assumption]
      p lor lnot p [LEM]
      case p:
        p [identity]
      case lnot p:
        [2] p [assumption]
            false [contradiction]
            q [false elim]
        p => q [=> intro from 2]
        p [=> elim with premise]
      p [lor elim]

TEXT: Pierce's law is equivalent to LEM in classical logic.

** Example 9: Tertium Non Datur **

TEXT: Tertium non datur (Latin: "no third possibility") is another name for LEM.

TEXT: For any proposition p, there is no third option besides p and lnot p.

forall p | p lor lnot p

TEXT: This principle distinguishes classical from intuitionistic logic.

** Example 10: Constructive vs Classical **

TEXT: In constructive (intuitionistic) logic, LEM is not provable as a general principle.

TEXT: Constructive: To prove p or not p, you must either:
TEXT: - Construct a proof of p, or
TEXT: - Construct a proof of not p (a proof that p leads to contradiction)

TEXT: Classical: LEM is an axiom—every proposition is assumed decidable without construction.

** Example 11: Example Where LEM Is Not Needed **

TEXT: Some propositions are constructively decidable:

forall n : N | (n = 0) lor lnot (n = 0)

TEXT: We can decide this by checking if n equals 0.

TEXT: But general propositions may not be decidable constructively:

forall p | p lor lnot p  -- requires LEM elem general case

** Example 12: Proof Strategy with LEM **

TEXT: Common proof strategy using LEM:

TEXT: To prove Q:
TEXT: 1. Invoke p or lnot p for some relevant p
TEXT: 2. [case] p prove Q assuming p
TEXT: 3. [case] lnot p prove Q assuming lnot p
TEXT: 4. Conclude Q by or elim

TEXT: This technique is called "proof by cases" or "case analysis."

** Example 13: LEM land Indirect Proof **

TEXT: Indirect proof pattern using LEM:

TEXT: To prove p:
TEXT: 1. Assume not p [assumption 1]
TEXT: 2. Derive false
TEXT: 3. Conclude lnot lnot p [lnot intro from 1]
TEXT: 4. Apply LEM: p lor lnot p
TEXT: 5. [case] p p
TEXT: 6. [case] lnot p contradicts lnot lnot p, derive p by false elim
TEXT: 7. Conclude p [or elim]

TEXT: LEM enables the final step (double negation elimination).

** Example 14: Drinker Paradox **

TEXT: Prove: There exists a person x such that if x drinks, then everyone drinks.

PROOF:
exists x | x drinks => (forall y | y drinks) [lor elim]
  [1] p lor lnot p [assumption]
      case p:
        Pick any person a
        a drinks [from p]
        forall y | y drinks [from p]
        a drinks => (forall y | y drinks) [=> intro, trivially true]
        exists x | x drinks => (forall y | y drinks) [exists intro with x = a]
      case lnot p:
        exists b | lnot (b drinks) [negation of forall]
        lnot (b drinks) [exists elim]
        [2] b drinks [assumption]
            false [contradiction]
            forall y | y drinks [false elim]
        b drinks => (forall y | y drinks) [=> intro from 2]
        exists x | x drinks => (forall y | y drinks) [exists intro with x = b]
      exists x | x drinks => (forall y | y drinks) [lor elim]

TEXT: This classical proof uses LEM crucially.

** Example 15: When to Use LEM **

TEXT: Use LEM when:
TEXT: 1. You need to prove something by case analysis on an arbitrary proposition
TEXT: 2. You're working in classical logic (not constructive)
TEXT: 3. You need double negation elimination
TEXT: 4. Your proof strategy requires considering both p land lnot p

TEXT: Avoid LEM when:
TEXT: 1. Working in constructive/intuitionistic logic
TEXT: 2. The proposition has a decidable, constructive proof
TEXT: 3. You want algorithms that compute witnesses (constructive proofs)

** Example 16: Relationship to Other Principles **

TEXT: In classical logic, these are equivalent:
TEXT: - Law of excluded middle: p lor lnot p
TEXT: - Double negation elimination: lnot lnot p => p
TEXT: - Pierce's law: ((p => q) => p) => p
TEXT: - Reductio ad absurdum: (lnot p => false) => p

TEXT: Accepting any one of these principles gives you classical logic.

TEXT: In intuitionistic logic, none of these hold in general—you must construct proofs explicitly.
