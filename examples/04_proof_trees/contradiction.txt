// ============================================================================
// Example: Proof by Contradiction
// ============================================================================
// Demonstrates:
//   - Proof by contradiction technique
//   - Assuming the negation and deriving falsehood
//   - not elimination (absurdity)
//   - Classical reasoning patterns
//
// Features:
//   - PROOF: with contradiction structure
//   - [not intro] rule application
//   - Deriving false from contradictory premises
//   - Classical logic proofs
//
// See: docs/PROOF_SYNTAX.md - Proof tree rules
//      docs/USER_GUIDE.md - Section "Proof Trees"
// ============================================================================

=== Proof by Contradiction Examples ===

** Example 1: Basic Contradiction **

TEXT: To prove p, assume not p and derive a contradiction (false).

PROOF:
(lnot p land (q land lnot q)) => p [=> intro from 1]
  [1] lnot p land (q land lnot q) [assumption]
      q land lnot q [land elim 2]
      q [land elim 1]
      lnot q [land elim 2]
      false [contradiction]
      p [false elim]

TEXT: Once we derive false, we can conclude anythingâ€”here we conclude p by discharging assumption 1.

** Example 2: Simple Example - Proving q **

TEXT: Prove: (p land lnot p) => q

PROOF:
(p land lnot p) => q [=> intro from 1]
  [1] p land lnot p [assumption]
      p [land elim 1]
      lnot p [land elim 2]
      false [contradiction]
      q [false elim]

TEXT: From a contradiction, we can derive anything (ex falso quodlibet).

** Example 3: Law of Non-Contradiction **

TEXT: Prove that p land lnot p leads to a contradiction.

PROOF:
p land lnot p => false [=> intro from 1]
  [1] p land lnot p [assumption]
      false [contradiction]

TEXT: This proves the law of non-contradiction - no proposition can be both true and false.

** Example 4: Indirect Proof **

TEXT: Prove: (lnot p => false) => lnot lnot p

PROOF:
(lnot p => false) => lnot lnot p [=> intro from 1]
  [1] lnot p => false [assumption]
      [2] lnot p [assumption]
          false [=> elim]
      lnot lnot p [lnot intro from 2]

TEXT: This is the pattern for indirect proof: if assuming lnot p leads to false, then lnot not p holds.

** Example 5: Modus Tollens via Contradiction **

TEXT: Prove: (p => q) land lnot q => lnot p

PROOF:
((p => q) land lnot q) => lnot p [=> intro from 1]
  [1] (p => q) land lnot q [assumption]
      p => q [land elim 1]
      lnot q [land elim 2]
      [2] p [assumption]
          q [=> elim]
          false [contradiction]
      lnot p [lnot intro from 2]

TEXT: Classic modus tollens pattern using contradiction.

** Example 6: Disjunction from Contradiction **

TEXT: Prove: lnot p => (p => q)

PROOF:
lnot p => (p => q) [=> intro from 1]
  [1] lnot p [assumption]
      (p => q) [=> intro from 2]
        [2] p [assumption]
            false [contradiction]
            q [false elim]

TEXT: From lnot p, we can prove p => q for any q.

** Example 7: Double Negation Elimination **

TEXT: Prove: lnot lnot p => p (requires classical logic)

PROOF:
lnot lnot p => lnot lnot lnot p [=> intro from 1]
  [1] lnot lnot p [assumption]
      lnot lnot lnot p [lnot intro from 2]
        [2] lnot p [assumption]
            false [contradiction]
            p [false elim]

TEXT: In classical logic, not lnot p implies p. This requires excluded middle or equivalent axiom.

** Example 8: Reductio ad Absurdum **

TEXT: Prove: (lnot p => (q land lnot q)) => p

PROOF:
(lnot p => (q land lnot q)) => lnot lnot p [=> intro from 1]
  [1] lnot p => (q land lnot q) [assumption]
      lnot lnot p [lnot intro from 2]
        [2] lnot p [assumption]
            q land lnot q [=> elim]
            q [land elim 1]
            lnot q [land elim 2]
            false [contradiction]
            p [false elim]

TEXT: Reductio ad absurdum: if assuming not p leads to absurdity, then p holds.

** Example 9: Contradiction with Universal Quantifier **

TEXT: Prove: (forall x | P(x)) land (exists x | lnot P(x)) is contradictory.

PROOF:
((forall x | P(x)) land (exists x | lnot P(x))) => false [=> intro from 1]
  [1] (forall x | P(x)) land (exists x | lnot P(x)) [assumption]
      forall x | P(x) [land elim 1]
      exists x | lnot P(x) [land elim 2]
      lnot P(a) [exists elim, fresh a]
      P(a) [forall elim]
      false [contradiction]

TEXT: If something holds for all x, it cannot fail for some x.

** Example 10: Proving Uniqueness by Contradiction **

TEXT: Prove: if f is injective, then f(x) = f(y) => x = y.

PROOF:
(injective(f) land f(x) = f(y)) => x = y [=> intro from 1]
  [1] injective(f) land f(x) = f(y) [assumption]
      injective(f) [land elim 1]
      f(x) = f(y) [land elim 2]
      x = y [lnot intro from 2]
        [2] x /= y [assumption]
            f(x) /= f(y) [injective property]
            false [contradiction with f(x) = f(y)]

TEXT: Uses contradiction to prove equality.

** Example 11: Case Analysis Leading to Contradiction **

TEXT: Prove: p lor q, lnot p, lnot q => false

PROOF:
((p lor q) land lnot p land lnot q) => false [=> intro from 1]
  [1] (p lor q) land lnot p land lnot q [assumption]
      p lor q [land elim 1]
      lnot p [land elim 2]
      lnot q [land elim 3]
      false [lor elim from p lor q]
        case p:
          false [contradiction with lnot p]
        case q:
          false [contradiction with lnot q]

TEXT: Both cases lead to contradiction, so the premises are inconsistent.

** Example 12: Best Practices for Contradiction Proofs **

TEXT: When using proof by contradiction:
TEXT: 1. Clearly mark the assumption you're contradicting with [assumption N]
TEXT: 2. Show explicitly where false is derived
TEXT: 3. Use [not intro from N] to discharge the assumption
TEXT: 4. Document the contradiction (what conflicts with what)
TEXT: 5. In natural deduction, false elim lets you conclude anything
TEXT: 6. Remember: contradiction is a classical technique (not constructive)
