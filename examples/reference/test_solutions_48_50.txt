// ============================================================================
// Reference: Solutions 48-50 (Assignment Practice)
// ============================================================================
// Description:
//   - Solutions for assignment practice problems
//   - Music streaming service specification
//   - Playlists, users, songs relationships
//   - Set operations and constraints
//
// Topics:
//   - Solution 48: Playlist and user data structures
//   - Solution 49: User preferences (loved/hated songs)
//   - Solution 50: Set operations and abbreviations
//   - F (finite set), F1 (non-empty finite set)
//
// See: docs/USER_GUIDE.md - Sections "Axiomatic Definitions", "Sets", "Functions"
// ============================================================================

=== Supplementary material: assignment practice ===

** Solution 48 **

given SongId, UserId, PlaylistId, Playlist

axdef
  songs : F SongId
  users : F UserId
  playlists : PlaylistId +-> Playlist
  playlistOwner : PlaylistId +-> UserId
  playlistSubscribers : PlaylistId +-> F1 UserId
where
  forall i : dom(playlists) | ran(playlists(i)) subseteq songs
  dom(playlistOwner) subseteq dom(playlists)
  ran(playlistOwner) subseteq users
  dom(playlistSubscribers) subseteq dom(playlists)
  forall i : dom(playlistSubscribers) | playlistSubscribers(i) subseteq users
  forall i : dom(playlists) | playlistOwner(i) in playlistSubscribers(i)
end

** Solution 49 **

axdef
  hated : UserId +-> F SongId
  loved : UserId +-> F SongId
where
  dom(hated) subseteq users
  forall i : dom(hated) | hated(i) subseteq songs
  dom(loved) subseteq users
  forall i : dom(loved) | loved(i) subseteq songs
  forall i : dom(hated) union dom(loved) | hated(i) intersect loved(i) = emptyset
end

** Solution 50 **

(a)

abbrev A == users \ bigcup(ran(playlistSubscribers))

(b)

abbrev B == {p : dom(playlistSubscribers) | # (playlistSubscribers(p)) >= 100}

TEXT: (Part c and d require mu operator with complex predicates - tested separately)
