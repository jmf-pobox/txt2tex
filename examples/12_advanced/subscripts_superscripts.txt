// ============================================================================
// Example: Subscripts and Superscripts
// ============================================================================
// Demonstrates:
//   - Subscript notation with underscore (_)
//   - Superscript notation with caret
//   - Identifier subscripts (x_i, y_1)
//   - Mathematical exponentiation (x^2, n^k)
//   - Using power function for nested exponents
//   - Indexing conventions
//
// See: docs/USER_GUIDE.md - Section "Advanced Features" > "Subscripts and Superscripts"
// ============================================================================

=== Subscripts and Superscripts ===

** Example 1: Basic Subscripts **

TEXT: Subscripts are written with underscore:

x_1 elem S

x_2 = x_1 + 1

TEXT: Common for indexed variables in sequences, arrays, or iterations.

** Example 2: Basic Superscripts (Exponentiation) **

TEXT: Superscripts denote exponentiation:

x^2 = x * x

n^3 = n * n * n

TEXT: The caret symbol creates superscripts for powers.

** Example 3: Multiple Subscripted Variables **

axdef
  x_1 : N
  x_2 : N
  x_3 : N
where
  x_1 = 1
  x_2 = 2
  x_3 = 3
end

TEXT: Define multiple indexed variables.

** Example 4: Sequence Indexing **

TEXT: Subscripts are natural for sequence element notation:

forall i : 1 .. n | s_i elem N

TEXT: Here s_i represents the i-th element of a conceptual sequence.

** Example 5: Exponentiation in Expressions **

{ n : N | n < 10 . n^2 }

TEXT: Set of squares.

** Example 6: Power Function for Nested Exponents **

TEXT: For nested exponents like power of a power, define a power function:

axdef
  pow : N cross N -> N
where
  forall x : N | pow(x, 0) = 1
  forall x, n : N | n > 0 => pow(x, n) = x * pow(x, n - 1)
end

TEXT: Then use it for nested exponentiation:

pow(pow(x, 2), 3) = pow(x, 6)

pow(pow(n, 2), n + 1)

TEXT: This avoids LaTeX double superscript issues.

** Example 7: Polynomials **

TEXT: Subscripts for coefficients, superscripts for powers:

a_0 + a_1 * x + a_2 * x^2 + a_3 * x^3

TEXT: Standard polynomial notation.

** Example 8: Combined Subscripts and Superscripts **

TEXT: Variable with subscript, raised to a power:

x_i^2

TEXT: Meaning: x sub i, squared.

** Example 9: Cartesian Product Powers **

TEXT: Cartesian product repeated n times:

S^2 = S cross S

S^3 = S cross S cross S

TEXT: Set of n-tuples from S.

** Example 10: Iteration Subscripts **

TEXT: Subscripts often denote iteration steps:

x_0 = initial

x_(i+1) = f(x_i)

TEXT: Defines a recurrence relation.

** Example 11: State Variable Subscripts **

schema Counter
  count : N
  countNext : N
where
  countNext = count + 1
end

TEXT: Next-state variables can use descriptive names like countNext instead of primed notation.

** Example 12: Indexed Family of Sets **

axdef
  S_1 : P N
  S_2 : P N
  S_3 : P N
where
  S_1 = {1, 2, 3}
  S_2 = {4, 5, 6}
  S_3 = {7, 8, 9}
end

TEXT: Family of sets indexed by natural numbers.

** Example 13: Exponents in Constraints **

forall n : N | n^2 >= n

TEXT: Constraint using exponentiation: every natural number's square is at least itself.

** Example 14: Complex Subscript Expressions **

x_(i+1) + x_(i-1) = 2 * x_i

TEXT: Recurrence relation with subscript expressions.

** Example 15: Power Set Notation **

TEXT: Sometimes written with superscript:

P(S) lor 2^S

TEXT: Both denote the power set of S.

** Example 16: Best Practices **

TEXT: Guidelines for subscripts and superscripts:
TEXT: 1. Use subscripts for indices, versions, or families
TEXT: 2. Use superscripts for exponents and powers
TEXT: 3. For nested exponents, define a pow function
TEXT: 4. Be consistent in indexing: start at 0 or 1, not mixed
TEXT: 5. Document what subscripts mean
